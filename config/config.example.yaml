# HVAC Optimizer Configuration

# System type: "multi_split" or "single_split"
system_type: multi_split

# Indoor units configuration
indoor_units:
  - name: living_room
    entity_id: climate.living_room
    temperature_sensor: sensor.living_room_temperature
    priority: high  # high, medium, low
    
  - name: bedroom
    entity_id: climate.bedroom
    temperature_sensor: sensor.bedroom_temperature
    priority: medium
    
  - name: office
    entity_id: climate.office
    temperature_sensor: sensor.office_temperature
    priority: high
    
  - name: kitchen
    entity_id: climate.kitchen
    temperature_sensor: sensor.kitchen_temperature
    priority: low
    
  - name: guest_room
    entity_id: climate.guest_room
    temperature_sensor: sensor.guest_room_temperature
    priority: low

# Outdoor unit / compressor
outdoor_unit:
  power_sensor: sensor.hvac_power  # For detecting cycling
  # Optional: direct compressor status if available
  # compressor_status: binary_sensor.hvac_compressor

# External sensors
sensors:
  outdoor_temperature: sensor.outdoor_temperature
  # Optional additional sensors
  # solar_radiation: sensor.solar_radiation
  # humidity: sensor.outdoor_humidity

# Comfort settings
comfort:
  default_temperature: 21.0
  tolerance: 0.5  # Acceptable deviation from target
  
  # Room-specific overrides (optional)
  rooms:
    bedroom:
      night_temperature: 18.0
      night_start: "22:00"
      night_end: "07:00"

# Cycling detection
cycling:
  # Minimum time between compressor starts to not count as cycling
  min_cycle_time_minutes: 10
  # Power threshold to detect compressor on/off
  power_on_threshold: 500  # Watts
  power_off_threshold: 100  # Watts

# Control parameters
control:
  # Minimum runtime before allowing changes
  min_runtime_minutes: 5
  # How often to evaluate and adjust
  evaluation_interval_seconds: 60
  
  # Load balancing for multi-split
  load_balancing:
    enabled: true
    # Prefer running more units at lower power
    prefer_distributed_load: true

# Energy optimization (optional)
energy:
  enabled: false
  # Dynamic pricing integration
  price_sensor: sensor.electricity_price
  # Maximum price for comfort mode
  max_comfort_price: 0.30
  # Reduce target temp when price is high
  high_price_reduction: 1.0

# Machine Learning
ml:
  # Path to trained model (relative to config)
  model_path: "../models/cycling_predictor.joblib"
  # Retrain interval
  retrain_days: 30
  # Minimum data points for training
  min_training_samples: 10000

# Logging
logging:
  level: INFO
  # Log predictions and actions for analysis
  log_predictions: true
